document.addEventListener("DOMContentLoaded",(function(){getQueriesFromAPI(),getUsersFromAPI(),getBlockedIps(),getBlockedProviders(),setInterval(getQueriesFromAPI,5e3),setInterval(getUsersFromAPI,3e4),setInterval(getBlockedIps,3e4),setInterval(getBlockedProviders,3e4)}));let idsToAnimate=[];function getQueriesFromAPI(){const e=document.getElementById("queries-total");let t=e.textContent.includes("Loading")?0:Number.parseInt(e.textContent.replaceAll(",",""));fetch("https://funkemunky.cc/api/queries/month").then((e=>e.json())).then((e=>{animateValue("queries-total",t,e.count,800)})).catch((t=>{e.includes("Loading")&&(e.textContent="Error"),console.error("Error:",t)}))}function getUsersFromAPI(){const e=document.getElementById("users-total");let t=e.textContent.includes("Loading")?0:Number.parseInt(e.textContent.replaceAll(",",""));fetch("https://funkemunky.cc/api/users/total").then((e=>e.json())).then((e=>{animateValue("users-total",t,e.count,800)})).catch((t=>{e.includes("Loading")&&(e.textContent="Error"),console.error("Error:",t)}))}function getBlockedIps(){const e=document.getElementById("blocks-ips");let t=e.textContent.includes("Loading")?0:Number.parseInt(e.textContent.replaceAll(",",""));fetch("https://funkemunky.cc/api/blocked/ips").then((e=>e.json())).then((e=>{animateValue("blocks-ips",t,e.count,800)})).catch((t=>{e.includes("Loading")&&(e.textContent="Error"),console.error("Error:",t)}))}function getBlockedProviders(){const e=document.getElementById("blocks-providers");let t=e.textContent.includes("Loading")?0:Number.parseInt(e.textContent.replaceAll(",",""));fetch("https://funkemunky.cc/api/blocked/providers").then((e=>e.json())).then((e=>{animateValue("blocks-providers",t,e.count,800)})).catch((t=>{e.includes("Loading")&&(e.textContent="Error"),console.error("Error:",t)}))}function animateValue(e,t,n,o){let r=document.getElementById(e),s=n-t,c=Math.abs(Math.floor(o/s));c=Math.max(c,50);let l,a=(new Date).getTime()+o;r.style.transition="ease-in-out 2s",idsToAnimate.push(e);const i=n.toLocaleString();function u(){let t=(new Date).getTime(),c=Math.max((a-t)/o,0),u=Math.round(n-c*s),d=u.toLocaleString();for(;d.length<i.length;)d="0"+d;r.textContent=d,u!==n&&idsToAnimate.includes(e)||clearInterval(l)}l=setInterval(u,c),u()}